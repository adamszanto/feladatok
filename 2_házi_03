#include <iostream>
using namespace std;

int main()
{
    int allomasokSzama;
    int szamlalo = 0;
    cin >> allomasokSzama;

    // Bemenet KEZDETE

    while(allomasokSzama < 0 || allomasokSzama > 1000)
    {
        cout << "Add meg az allomasok szamat 1 es 1000 kozott" << endl;
        cin >> allomasokSzama;
    }

    int allomasFel[allomasokSzama] {0};
    int allomasLe[allomasokSzama] {0};

    while(szamlalo < allomasokSzama)
    {
        cin >> allomasLe[szamlalo] >> allomasFel[szamlalo];
        szamlalo++;
    }
    ///////////////////////////////////////////////////
    ///////////////////////////////////////////////////
    // Bemenet VÉGE
    // Kimenet KEZDETE

    // Az elején 0,0 és a végén 0,0 nem kell

    int kezdetIndex = 0;
    int vegeIndex = szamlalo-1;



    // 1. részfeladat: Az első sorba a vonaton utazók számát kell kiírni!
    int vonatonUtazok = 0;
    cout << "#" << endl;
    for(int i = 0; i < szamlalo; i++)
    {
        vonatonUtazok += allomasFel[i];
    }
    cout << vonatonUtazok << endl;
    cout << "#" << endl;

    // 2. részfeladat: Az első sorba azon állomások számát kell kiírni, amelyeken a vonat feleslegesen állt meg!
    // ide majd a tisztított sorozat
    int uresAllomas = 0;
    for(int i = 0; i < allomasokSzama; i++)
    {
        if(allomasFel[i] == 0 && allomasLe[i] == 0)
            {
                uresAllomas++;
            }
    }
    cout << uresAllomas << endl;
    cout << "#" << endl;
    // 3. részfeladat: Az első sorba a maximális utasszámot kell kiírni!
    // 4. részfeladat: Az első sorba az üresen induló állomásokat. Második sorba az állomások sorszámát!
    int pillanatnyiUtas[allomasokSzama] {0};
    int pillanatnyi = 0;
    int maxUtas = 0;
    int uresenIndulo = 0;
    int allomasSorszam[szamlalo] {0};

    for(int i = 0; i < szamlalo; i++)
    {
        pillanatnyi += allomasFel[i];
        pillanatnyi -= allomasLe[i];
        if(pillanatnyi > maxUtas])
        {
            maxUtas = pillanatnyi;
        }

        if(pillanatnyi == 0)
        {
            allomasSorszam[uresenIndulo] = i+1;
            uresenIndulo++;
        }

      //  cout << pillanatnyiUtas[i] << " ";
    }

    cout << maxUtas << endl;
    cout << "#" << endl;
    cout << uresenIndulo << endl;
    for(int i = 0; i < uresenIndulo; i++)
    {
        cout << allomasSorszam[i] << endl;
    }
    cout << "#" << endl;

    // 5. részfeladat:
    // folyt köv.




    return 0;
}
